# WEB-31-Yudin-highload
Курсовая работа по highload

Студент: Юдин Данила Антонович  
Группа: WEB-31 (осень 2025)  
Старший преподаватель: Александр Быков  

# TikTok
## 1. Выбор тематики и аудитории
**Тип сервиса**: Социальные медиа, видеохостинг, развлекательный сервис  
**Основные регионы**: США, Индонезия, Бразилия, Россия [1]  
**Количество зарегистрированных пользователей**: 2.249B [2]  
**Расположение дата-центров**: США, Ирландия, Норвегия, Сингапур, Малайзия [3]  
**Основной функционал MVP**:
1. Посмотреть видео-ролик
2. Поставить лайк/дизлайк
3. Подписаться на канал/добавить в избранное
4. Выложить ролик на свой канал
5. Написать комментарий\
**Дополнительный функционал**:  
7. Поиск ролика/аккаунта по ключевому слову (+фильтры)  
8. Поделиться роликом в соц. сетях/Не рекомендовать  
9. Аудиотека  
10. Технология Duet & Stitch

**Особенности**:
1. Короткий формат видео-роликов
2. Система рекомендаций, заточенная на удержание внимания
3. Аудиотека и технология Duet & Stitch
4. Низкий порог входа

**Отличие от других видеохостингов сервисов**:  
	Другие популярные видеохостинги, такие как Youtube позиционируется как поисковая/архивная видео-платформа со средней продолжительностей видео в 10-15 минут, нацеленная на широкую аудиторию и разнообразие жанров. 
	В то время как TikTok предлагает преимущественно развлекательный контент длительностью ролика менее 60 секунд, нацеленная на молодежный сегмент. 
	Таким образом, Youtube - более универсальный сервис, который не имеет строго определенной аудитории, обладающим большим спектром возможностей - от обучения и развлечений до просмотра политических новостей, однако TikTok предлагает совершенно иной опыт - короткие развлекательные ролики, не требующие долгого фокуса и внимания, ориентированные на конкретные интересы и предпочтения.

**Конкуренция**:  
1. Youtube Shorts
2. Instagram Reels
3. Snapchat Spotlight

## 2. Расчет нагрузки

### Аудиторные метрики
Информация найдена в интернете. Все ссылки на источники будут расположены в конце РПЗ

| Метрика                                          | Значение |
| ------------------------------------------------ | -------- |
| MAU                                              | 1.582B [4]   |
| DAU                                              | 875.736M [5] |
| Количество зарегистрированных пользователей      | 2.249B [2]   |
| Количество аккаунтов, активно выпускающая ролики | 1.5M     |

### Продуктовые метрики
Информация найдена путем личного эксперимента (кроме "средней продолжительности сессии"). Данные приблизительные и могут неточно отражать действительность.

| Метрика                                             | Значение |
| --------------------------------------------------- | -------- |
| Средняя продолжительность сессии*                   | 53.8 мин [6] |
| Средняя продолжительность ролика                    | 27.5 сек |
| Среднее количество лайков/дизлайков на 1000 роликов | 30       |
| Среднее количество подписок на 1000 роликов         | 1        |
| Среднее количество комментариев на 1000 роликов     | 20       |
| Bitrate                                             | 7.5 Mbps |

### Технические метрики
1) Был произведен расчет среднего количества просмотренных роликов одним пользователем в день. Предполагается, что пользователь на протяжении всей сессии только смотрел ролики:  
	$\frac{\text{Продолжительность сессии}}{\text{Продолжительность ролика}} = \frac{53.8 \text{ мин}}{27.5 \text{ сек}} = \frac{3228 \text{ сек}}{27.5 \text{ сек}} \approx 117$  
	**Просмотров в день на одного пользователя**                                                                      **(1)**
2) Следующим шагом стал расчёт трафика. Для этого был высчитан вес одного видео-ролика и умножив его на количество просмотров в день и на количество активных пользователей в день - был получен общий трафик проходящий через сервера:
	$\text{Вес ролика} = \text{Битрейт} \times \text{Продолжительность} = ( \frac{7.5}{8} ) \times 27.5 \approx 25.78 \text{ МБ}$  
	**Вес одного среднего по продолжительности ролика**                                                         **(2)**
    $DAU \times \text{Продолжительность сессии} \times\text{Вес ролика} = 117 \times 25.78 \times 875.736 \times 10^6=2579.6 Pb$  
    **Ежедневный исходящий трафик**                                                               **(3)**
4) Для расчета ежедневного трафика нагрузки на память серверов была найдена информация сколько ежеминутно выкладывается роликов [7] и, зная вес одного среднего по продолжительности видео, был найден общий объем:
	$\text{Роликов в минуту} \times 60 \times 24 = 16{,}000 \times 60 \times 24 = 23.04 \text{ млн}$  
	**Количество роликов выложенных пользователями за день**                                            **(4)**
	$\text{Количество роликов} \times \text{Вес ролика} = 23.04 \times 10^6 \times 25.78 \text{ МБ} \approx 566.46 \text{ ТБ}$  
	**Ежедневный входящий трафик**                                                                                  **(5)**
5) Очередным этапом стала оценка количества запросов на чтение и запись в день. Для этого были умножены следующие метрики: количество активных пользователей в день, количество просмотров в день на одного пользователя и вероятность на 1000 роликов лайков/дизлайков, подписок, комментариев.  
	$\text{DAU} \times \text{Просмотров на пользователя} \times \text{Вероятность лайка} = 875.736 \times 10^6 \times 117 \times 0.03 \approx 2.627 \text{ млрд}$   
	**Количество лайков в день**                                                                                                     **(6)**  
	$\text{DAU} \times \text{Просмотров на пользователя} \times \text{Вероятность коммента} = 875.736 \times 10^6 \times 117 \times 0.02 \approx 2.05 \text{ млрд}$   
	**Количество комментариев в день**                                                                                        **(7)**  
	$\text{DAU} \times \text{Просмотров на пользователя} \times \text{Вероятность подписок} = 875.736 \times 10^6 \times 117 \times 0.001 \approx 102.5 \text{ млн}$  
	**Количество подписок в день**                                                                                                 **(8)**  
6) Заключительным этапом расчета технических метрик стало нахождение среднего и пикового RPS на чтение и запись. RPS на чтение определен из просмотров пользователя. Стоит принять во внимание, что ролики для просмотра грузятся одним стеком в 5 шт., а для расчета пикового RPS был взят коэффицент доли дневного трафика на пиковый час, равный ~20%:
    
    $$\text{DAU} \times \frac{\text{Просмотров на пользователя}}{5} = 875.736 \times 10^6 \times \frac{117}{5} = 875.736 \times 10^6 \times 23.4 \approx 20.492 \text{ млрд}$$  
    **Количество запросов в день на чтение (RPD)**                                                                                 **(9)**  
    
    $$\text{RPS}_{\text{avg}} = \frac{\text{RPD}}{86400 \text{ (секунд в дне)}} = \frac{20.492 \times 10^9}{86400} \approx 237179$$  
    **Средний RPS на чтение**                                                                                                      **(10)**  
    
    $$\text{RPS}_{\text{peak}} = \frac{\text{RPD} \times 0.2}{3600 \text{ (секунд в часе)}} = \frac{20.492 \times 10^9 \times 0.2}{3600} \approx 1138457$$  
    **Пиковый RPS на чтение**                                                                                                      **(11)**
7) RPS на запись определен из действий пользователя, таких как: лайк/дизлайк, подписка, комментарий и загрузка видео-ролика. Стоит принять во внимание, что для расчета пикового RPS был взят коэффицент доли дневного трафика на пиковый час, равный ~20%:
    
    $$\text{Количество лайков в день} + \text{Количество комментариев в день} + \text{Количество подписок в день} + \text{Количество загрузок в день} = 2.672 + 2.05 + 0.1025 + 0.02304 = 4.84754 \text{ млрд}$$  
    **Количество запросов в день на запись (RPD)**                                                                                 **(12)**  
    
    $$\text{RPS}_{\text{avg}} = \frac{\text{RPD}}{86400 \text{ (секунд в дне)}} = \frac{4.84754 \times 10^9}{86400} \approx 56106$$  
    **Средний RPS на запись**                                                                                                      **(13)**  
    
    $$\text{RPS}_{\text{peak}} = \frac{\text{RPD} \times 0.2}{3600 \text{ (секунд в часе)}} = \frac{4.84754 \times 10^9 \times 0.2}{3600} \approx 269308$$  
    **Пиковый RPS на запись**                                                                                                      **(14)**

| Метрика                                          | Значение |
| ------------------------------------------------ | -------- |
| Средний RPS на чтение                            | 237179   |
| Пиковый RPS на чтение                            | 1138457  |
| Средний RPS на запись                            | 56106    |
| Пиковый RPS на запись                            | 269308   |

## Список используемых источников:
1. Основные регионы по распространенности сервиса: https://www.statista.com/statistics/1299807/number-of-monthly-unique-tiktok-users/, https://www.demandsage.com/tiktok-user-statistics/
2. Количество зарегистрированных пользователей: https://www.demandsage.com/tiktok-user-statistics/, https://datareportal.com/reports/digital-2025-july-global-statshot
3. Расположение дата-центров: https://dgtlinfra.com/tiktok-data-centers-cloud-locations/
4. Количество активных пользователей за месяц: https://www.statista.com/statistics/272014/global-social-networks-ranked-by-number-of-users/, https://en.wikipedia.org/wiki/List_of_social_platforms_with_at_least_100_million_active_users
5. Количество активных пользователей за день: https://www.semrush.com/analytics/overview/?q=tiktok.com&searchType=domain&protocol=https&utm_source=explodingtopics.com&utm_medium=referral&utm_campaign=time-spent-on-tiktok
6. Средняя продолжительность сессии: https://www.statista.com/statistics/1301075/us-daily-time-spent-social-media-platforms/
7. Количество роликов, выкладываемых в минуту: https://www.statista.com/statistics/195140/new-user-generated-content-uploaded-by-users-per-minute/

